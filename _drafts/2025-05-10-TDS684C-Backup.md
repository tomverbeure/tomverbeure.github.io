---
layout: post
title: TDS684C Backup
date:   2025-05-10 00:00:00 -1000
categories:
---

* TOC
{:toc}

* `*IDN? -> TEKTRONIX,TDS 684C,0,CF:91.1CT FV:v5.1e` 

* tektool: 
  * https://www.eevblog.com/forum/repair/unified-tektool-released-!-(firmware-flash-tools-for-old-tds-series)/
  * https://github.com/ragges/tektools
  * in tektool.c: uncomment #define FLASH_28F160S5

* Put scope in write unprotect mode
  * GPIB address always 29

```
./tektool -i -b 0x1000000 -l 0x10
base: 01000000
Flash ID1: 0xb000b000
Flash ID2: 0xd000d000
Flash identified as: 28F160S5
```

* Install NI-VISA
  * Disables keysight VISA driver

* Full procedure for 540: https://www.eevblog.com/forum/repair/unified-tektool-released-!-(firmware-flash-tools-for-old-tds-series)/msg3758918/#msg3758918

* RS232 debug interface
    * https://www.eevblog.com/forum/repair/tektronix-tds500-700-debug-konscole-interface

        * https://www.ebay.com/itm/326554873491?_skw=Tektronix+CONSOLE+PORT+TDS+5%2F6%2F7xx+Oscilloscope+Debug+Card+RS-232+for+Opt+013

    * https://www.eevblog.com/forum/repair/tektronix-tds500-700-debug-konscole-interface/msg3848177/#msg3848177
    
        PCB with DUART and FT232

    * https://www.eevblog.com/forum/testgear/console-port-debug-adapter-for-tek-tds500-tds600-and-tds700-series-scopes/msg3420060/#msg3420060

        Centronics/RS232 board closeup.

    * https://www.eevblog.com/forum/testgear/console-port-debug-adapter-for-tek-tds500-tds600-and-tds700-series-scopes/msg3266424/#msg3266424

        Manual adapter

        https://www.youtube.com/watch?v=pZWq-u2lOu8

        https://www.ebay.com/itm/326554873491?_skw=Tektronix+CONSOLE+PORT+TDS+5%2F6%2F7xx+Oscilloscope+Debug+Card+RS-232+for+Opt+013

* Schematics:

    https://w140.com/tekwiki/images/a/a4/Tektronix_TDS540_Schematics.pdf

    A11-2, page 28/76: Shows all external connectors

    J37: printer/RS232 board: 26 pins
    JH40: Cardedge console service port: 20 pins

    No clock on the interface

    20-pos edge connector: 
    * straight: https://www.digikey.com/en/products/detail/te-connectivity-amp-connectors/5-5530843-0/770548
    * 90 degrees: https://www.digikey.com/en/products/detail/te-connectivity-amp-connectors/5650118-2/2310840

MC68681 DUART: 
 * Local X1/X2 xtal
 * eBay: https://www.ebay.com/itm/373681255910 $3
 * Philips: https://www.nxp.com/docs/en/user-guide/MC68681UM.pdf
 * On RS232 board: SCN68681C1A44 $14 on eBay
 * Python emulator: https://github.com/John-Titor/py68k/blob/master/devices/mc68681.py
    

Replace BNC: 
* https://www.eevblog.com/forum/repair/tds754d-front-bnc-connector-replacement/
* https://groups.io/g/TekScopes/topic/tds5_6_7xx_bncs_and/7654460

