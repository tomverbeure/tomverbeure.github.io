
Main power supply connector:

```
Should be       Actual
+10         ->  0           : comes from other board
+15         ->  +15
+9          ->  +12 
+5          ->  +7
GND         ->  GND
-9          ->  0
-15         ->  -15
```


Diagnosis for now:

* PCB requires BR81D bridge for BR501, but has been bodged with 4x 1N5822 Schottky diodes, which matches the schematic.
    
    * Service manual: doesn't have BR501, shows 4 1N5822 diodes instead.
    * 1 1N5822 fell off, probably there reasons why there is no -9V.
    * Service manual lists KBP201G as alternative. Available at Mouser.
    * 1N5822 has lower diode drop than diode bride. Does this increase the voltage
      at the output of the 5V?

* PCB has 10 Ohm/5 W bypass resistor R512 across U501 voltage regulator.
* Voltage measured on 5V line is 7V, probably due to this resistor.
* Regulator is an LM340T-5 (also has 7805 marker on it.) TO220 package
* There are jumpers on the 5V source before it's used
* 9V (present as +12) goes to detection circuit, but -9V (not present) does not.

Plan:

* Check capacitors
* Buy 2x KBP201G 
* Buy LM340T-5 just to be sure
* Buy replacement resistor?
* Remove bodge 1N5822 diodes
* Cut 5V jumper, use external power supply. Also use external power supply for +/-9V?

* LCD cable: 2x7=14 pins
* Keyboard cable: 2x10=20 pins

Loose red and orange wires: +20 and -20 V. Go to option 2 PCB at the bottom.


Actions taken:

* Remove 4 jumpers
    * The schematic only shows 3 jumpers?
    * +15V
    * 5V: 2 jumpers in the center. Connected to eachother
    * -15V
* Remove bodge BR501
    * This disconnects everything related to 5V and unregulated +9V and -9V 
* Power on: +15V and -15V are fine. The rest is obviously dead without diode bridge.
* +9 on J5 connected +9 on J7
* -9 on J5 NOT connectoed -9 on J7: trace is burnt. This trace goes next to the 10 Ohm resistor, but is not connected to it.
    IS THERE A SHORT ON THE -9V rail?
* Connect bench supply to GND and +9V pins on J7
* 5V roughly tracks voltage on bench supply: it doesn't regulate to 5V
* Remove LM340T-5
* Reconstruct -9V wire from bridge to J7

* pin 9 of U502 (LM2901 opamp) patched to common R611 and R609 -> 5V
* [BR81D bridge: 100V, 2 AMP](https://www.circuitspecialists.com/bridge-rectifiers-2-amp)
* resistor: DALE RS-5-70: 70 Ohm. I measure 10 Ohm.
* Re-installed LM340T-5. With removed 10 Ohm resistor, output voltage is 5V now.
* Re-installed heatsink
* Apply 5V to J7. No major power consumption
* Installed jumper header
* Installed 4 jumpers. Did not install 10 Ohm resistor!
* Apply 10V to J7 
* Apply power: 7805 starts heating up, to 65C. Then unplugged.
* Why +/-12V on +/-9V pins?
* Switching 10V on or off has no impact: the nDROPOUT and nRESET pins are always high.
    * Makes sense: test signals are checked if they are higher than 10V, not lower
* Need 10 MHz clock from bottom PCB -> use SYNC output of function generator
    * 5 MHz clock is working
    * pins on Z80 are toggling
* Unscrew LCD and keyboard/LEDs PCBs
    * top-middle screw of keyboard/LEDs PCB has teflon ring instead of metal one
* Figuring out cable orientation for LCD and keyboard/LEDs
    * Was incorrect for keyboard/LEDs
* LEDs now light up, but not activity or anything.
* LCD board has no activity at all, not even backlight
    * Type: SDP-T694V-0 2020C
    * There are other SDP-T694V-0 that are smaller in size. The 2020C is essential.
    * LCD backlight is coming straight from 120V primary transformer winding.
* Increase 10V input to 15V instead of lowering... Check if nRESET and nDROPOUT go low.
    * The go low
    * Without 10V, after power up, clock is often not running.
* Probe Z80 pins: nINT is always low!
    * U310 AND between TIMER_INT and GPIB INT
    * TIMER_INT is always high
    * nINT_CLR (output of U308/9) is always high
    * U308: 3 to 8 demultiplexer with inverted output
        * nG2A/nG2B -> connected to nIO_OP -> toggles
        * G1 -> connected to A7: when high -> 1 of 8 outputs goes low



